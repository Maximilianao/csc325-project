<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="992.0" prefWidth="1310.0" styleClass="root"
            stylesheets="@stylesheets/matching_MiniGame_screen.css"
            xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.csc325.semesterproject.smartflashcards.matching_MiniGame_controller">

    <children>

        <!-- MAIN STRUCTURE -->
        <VBox spacing="10" prefWidth="1290" prefHeight="972">

            <!-- ========== TOP BAR ========== -->

                <HBox spacing="15">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>


                <Pane prefWidth="1250">
                    <children>

                        <Label layoutX="20" layoutY="10"
                               text="Mini Game Â· Match the Term &amp; Definition">
                            <font><Font name="System Bold" size="20" /></font>
                        </Label>

                        <Label layoutX="20" layoutY="45" text="Select Set:" />
                        <ComboBox fx:id="setDropdown" layoutX="110" layoutY="40"
                                  prefWidth="220" onAction="#handleSetChange"/>

                        <Button fx:id="backButton" layoutX="847" layoutY="15"
                                prefHeight="36" prefWidth="237"
                                text="Return to Games Dashboard ?"
                                onAction="#handleBackToLanding"/>

                        <Button fx:id="logoutButton" layoutX="1104" layoutY="15"
                                prefHeight="36" prefWidth="140"
                                text="Log out" onAction="#handleLogout"/>

                    </children>
                </Pane>
            </HBox>

            <!-- ========== SCROLLABLE CENTER (GAME AREA) ========== -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" maxHeight="700">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <content>

                    <HBox spacing="40">

                        <!-- TERMS COLUMN -->
                        <VBox prefWidth="600" spacing="10">
                            <Label text="Terms">
                                <font><Font name="System Bold" size="18" /></font>
                            </Label>
                            <Separator prefWidth="580"/>

                            <ScrollPane fitToWidth="true" prefHeight="720">
                                <content>
                                    <VBox fx:id="termsBox" spacing="12"
                                          styleClass="terms-column"/>
                                </content>
                            </ScrollPane>
                        </VBox>

                        <!-- DEFINITIONS COLUMN -->
                        <VBox prefWidth="600" spacing="10">
                            <Label text="Definitions">
                                <font><Font name="System Bold" size="18" /></font>
                            </Label>
                            <Separator prefWidth="580"/>

                            <ScrollPane fitToWidth="true" prefHeight="720">
                                <content>
                                    <VBox fx:id="definitionsBox" spacing="12"
                                          styleClass="definitions-column"/>
                                </content>
                            </ScrollPane>
                        </VBox>

                    </HBox>

                </content>
            </ScrollPane>

            <!-- ========== BOTTOM STATUS BAR (ALWAYS VISIBLE) ========== -->
            <Pane prefHeight="90" VBox.vgrow="NEVER">
                <children>

                    <Separator layoutX="0" layoutY="5" prefWidth="1250"/>

                    <Label layoutX="20" layoutY="30" text="Score:" />
                    <Label fx:id="scoreLabel" layoutX="80" layoutY="30" text="0" />

                    <Label layoutX="150" layoutY="30" text="Attempts:" />
                    <Label fx:id="attemptsLabel" layoutX="230" layoutY="30" text="0" />

                    <Label layoutX="320" layoutY="30" text="Time:" />
                    <Label fx:id="timerLabel" layoutX="370" layoutY="30"
                           text="00:00"/>

                    <Label fx:id="messageLabel" layoutX="20" layoutY="56"
                           prefWidth="700"
                           wrapText="true"
                           text="Select one term and one definition to make a match." />

                    <Button fx:id="checkMatchButton" layoutX="934" layoutY="24"
                            prefWidth="160" prefHeight="36"
                            text="Check Match"
                            onAction="#handleCheckMatch"/>

                    <Button fx:id="resetGameButton" layoutX="1106" layoutY="24"
                            prefWidth="160" prefHeight="36"
                            text="Reset Game" onAction="#handleResetGame"/>

                </children>
            </Pane>

        </VBox>

    </children>
</AnchorPane>
