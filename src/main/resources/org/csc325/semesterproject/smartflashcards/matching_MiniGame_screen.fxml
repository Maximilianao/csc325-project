<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="992.0" prefWidth="1310.0" styleClass="root" stylesheets="@stylesheets/matching_MiniGame_screen.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.csc325.semesterproject.smartflashcards.matching_MiniGame_controller">

    <children>
        <BorderPane layoutX="10.0" layoutY="10.0" prefHeight="972.0" prefWidth="1290.0">

            <!-- ======= TOP BAR ======= -->
            <top>
                <HBox spacing="15" BorderPane.alignment="CENTER">
                    <padding>
                        <Insets bottom="15" left="15" right="15" top="15" />
                    </padding>
                    <children>
                        <Pane prefWidth="1250.0">
                            <children>
                                <!-- Title -->
                                <Label layoutX="20" layoutY="10" text="Mini Game Â· Match the Term &amp; Definition">
                                    <font>
                                        <Font name="System Bold" size="20" />
                                    </font>
                                </Label>

                                <!-- Set selection -->
                                <Label layoutX="20" layoutY="45" text="Select Set:" />
                                <ComboBox fx:id="setDropdown" layoutX="110.0" layoutY="40.0" onAction="#handleSetChange" prefWidth="220.0" />

                                <!-- Back to Landing -->
                                <Button fx:id="backButton" layoutX="847.0" layoutY="15.0" onAction="#handleBackToLanding" prefHeight="36.0" prefWidth="237.0" stylesheets="@stylesheets/matching_MiniGame_screen.css" text="Return to Games Dashboard ?" />

                                <!-- Logout -->
                                <Button fx:id="logoutButton" layoutX="1104.0" layoutY="15.0" onAction="#handleLogout" prefHeight="36.0" prefWidth="140.0" stylesheets="@stylesheets/matching_MiniGame_screen.css" text="Log out" />
                            </children>
                        </Pane>
                    </children>
                </HBox>
            </top>

            <!-- ======= CENTER: GAME AREA ======= -->
            <center>
                <HBox spacing="40" BorderPane.alignment="CENTER">
                    <padding>
                        <Insets bottom="30" left="30" right="30" top="20" />
                    </padding>
                    <children>

                        <!-- TERMS COLUMN (label + scrollable list) -->
                        <VBox prefWidth="600.0" spacing="10">
                            <children>
                                <Label text="Terms">
                                    <font>
                                        <Font name="System Bold" size="18" />
                                    </font>
                                </Label>
                                <Separator prefWidth="580.0" />

                                <ScrollPane fitToWidth="true" prefHeight="720.0" prefWidth="600.0" styleClass="terms-column" stylesheets="@stylesheets/matching_MiniGame_screen.css">
                                    <content>
                                        <!-- buttons will be added here -->
                                        <VBox fx:id="termsBox" spacing="12" styleClass="terms-column" />
                                    </content>
                                </ScrollPane>
                            </children>
                        </VBox>

                        <!-- DEFINITIONS COLUMN (label + scrollable list) -->
                        <VBox prefWidth="600.0" spacing="10">
                            <children>
                                <Label text="Definitions">
                                    <font>
                                        <Font name="System Bold" size="18" />
                                    </font>
                                </Label>
                                <Separator prefWidth="580.0" />

                                <ScrollPane fitToWidth="true" prefHeight="720.0" prefWidth="600.0" styleClass="definitions-column" stylesheets="@stylesheets/matching_MiniGame_screen.css">
                                    <content>
                                        <!-- buttons will be added here -->
                                        <VBox fx:id="definitionsBox" spacing="12" styleClass="definitions-column" />
                                    </content>
                                </ScrollPane>
                            </children>
                        </VBox>

                    </children>
                </HBox>
            </center>

            <!-- ======= BOTTOM: STATUS BAR ======= -->
            <bottom>
                <Pane prefHeight="90.0">
                    <children>
                        <Separator layoutX="0" layoutY="5" prefWidth="1250.0" />

                        <!-- Score / Attempts -->
                        <Label layoutX="20" layoutY="30" text="Score:" />
                        <Label fx:id="scoreLabel" layoutX="80" layoutY="30" text="0" />

                        <Label layoutX="150" layoutY="30" text="Attempts:" />
                        <Label fx:id="attemptsLabel" layoutX="230" layoutY="30" text="0" />

                        <!-- Timer -->
                        <Label layoutX="320" layoutY="30" text="Time:" />
                        <Label fx:id="timerLabel" layoutX="370" layoutY="30" stylesheets="@stylesheets/matching_MiniGame_screen.css" text="00:00" />

                        <!-- Feedback message -->
                        <Label fx:id="messageLabel" layoutX="20" layoutY="56" prefWidth="700" text="Select one term and one definition to make a match." wrapText="true" />

                        <!-- Action buttons -->
                        <Button fx:id="checkMatchButton" layoutX="934.0" layoutY="24.0" maxHeight="-Infinity" maxWidth="-Infinity" onAction="#handleCheckMatch" prefHeight="36.0" prefWidth="160.0" stylesheets="@stylesheets/matching_MiniGame_screen.css" text="Check Match" />

                        <Button fx:id="resetGameButton" layoutX="1106.0" layoutY="24.0" maxHeight="-Infinity" maxWidth="-Infinity" onAction="#handleResetGame" prefHeight="36.0" prefWidth="160.0" stylesheets="@stylesheets/matching_MiniGame_screen.css" text="Reset Game" />
                    </children>
                </Pane>
            </bottom>

        </BorderPane>
    </children>
</AnchorPane>
